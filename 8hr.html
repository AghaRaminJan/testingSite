<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle Progress Bar Timer</title>
    <style>
body {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: #000000;
  margin: 0;
}

.progress-container {
  position: relative;
}

.bg-circle {
  fill: none;
  stroke: #ff0843;
  stroke-width: 5;
  transform: rotate(-90deg);
  transform-origin: 50% 50%;
}

.progress-circle {
  fill: none;
  stroke: #000000;
  stroke-width: 4;
  transform: rotate(-90deg);
  transform-origin: 50% 50%;
}

.timer-display {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 5rem;
  font-family: Verdana, sans-serif;
  color: #ffffff;
}

.message-display {
  position: absolute;
  top: 0%;
  left: 50%;
  transform: translate(-50%, 150%);
  font-size: 2.5rem;
  font-family: Verdana, sans-serif;
  color: #ffffff;
}
.train-container {
  position: absolute;
  top: 15%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-90deg);
  transform-origin: 50% 50%;
}

.train {
  position: absolute;
  top: -${trainWidth / 2}px;
  left: -${trainWidth / 2}px;
  width: 50px;
  height: 50px;
  transform: rotate(90deg);
}
.train-container {
  stroke-dasharray: ${circumference};
  stroke-dashoffset: ${circumference};
  animation: moveTrain ${timerDuration}s linear forwards;
}

@keyframes moveTrain {
  from {
    stroke-dashoffset: ${circumference};
    transform: translate(-50%, -50%) rotate(-90deg);
  }
  to {
    stroke-dashoffset: 0;
    transform: translate(-50%, -50%) rotate(270deg);
  }
}


    </style>
</head>
<body>
    <div class="progress-container">
        <svg class="progress-circle-svg" width="600" height="600">
            <circle class="bg-circle" cx="300" cy="300" r="270" />
            <circle class="progress-circle" cx="300" cy="300" r="270" />
        </svg>
        <div class="timer-display">
            <span id="time-display">1:00:00</span>
        </div>
        <div class="message-display">
            <span id="message-display">Study Time</span>
        </div>
      <div class="train-container">
        <img class="train" src="train.png" alt="Train">
      </div>
    </div>
    <script>
const progressCircleSVG = document.querySelector('.progress-circle-svg');
const progressCircle = progressCircleSVG.querySelector('.progress-circle');
const timeDisplay = document.getElementById('time-display');
const trainImage = document.querySelector('.train');
const trainContainer = document.querySelector('.train-container');
const timerDuration = 60 * 60; // 8 hours in seconds
const circumference = 2 * Math.PI * progressCircle.getAttribute('r');
const trainWidth = trainImage.width;

let secondsElapsed = 0;

progressCircle.style.strokeDasharray = `${circumference}`;

function updateProgress() {
  const percentage = secondsElapsed / timerDuration;
  const offset = circumference * (1 - percentage);
  progressCircle.style.strokeDashoffset = offset;

  if (percentage < 1) {
    // Animate the train along with the progress bar
    const trainPosition = circumference - ((circumference + trainWidth) * percentage);
    trainContainer.style.strokeDashoffset = trainPosition;

    // Rotate the train image
    const trainRotation = 360 * percentage;
    trainImage.style.transform = `translate(-50%, -50%) rotate(${trainRotation}deg)`;
  }
}

function formatTime(seconds) {
  const hours = Math.floor(seconds / 3600);
  const minutes = Math.floor((seconds % 3600) / 60);
  const remainingSeconds = seconds % 60;
  return `${hours}:${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
}

function updateTimerDisplay() {
  const remainingTime = timerDuration - secondsElapsed;
  timeDisplay.textContent = formatTime(remainingTime);
}

const timer = setInterval(() => {
  secondsElapsed += 1;
  updateProgress();
  updateTimerDisplay();

  if (secondsElapsed >= timerDuration) {
    clearInterval(timer);
  }
}, 1000);


</script>
</body>
</html>
